name: Markdown Lint

on:
  workflow_run:
    workflows: ["Auto Format"]
    types: [completed]
  pull_request:
    paths:
      - "docs/**/*.md"
      - ".github/workflows/markdownlint.yml"
      - ".markdownlint.yml"

jobs:
  markdownlint:
    if: ${{ github.event_name == 'pull_request' || github.event.workflow_run.conclusion == 'success' }}
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v6
      - name: Run markdownlint
        run: |
          npx --yes markdownlint-cli2 "docs/**/*.md"
